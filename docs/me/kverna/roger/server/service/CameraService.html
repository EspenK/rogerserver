<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Wed Nov 27 18:10:00 CET 2019 -->
<title>CameraService</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta content="2019-11-27" name="dc.created">
<link href="../../../../../stylesheet.css" rel="stylesheet" title="Style" type="text/css">
<link href="../../../../../jquery/jquery-ui.css" rel="stylesheet" title="Style" type="text/css">
<script src="../../../../../script.js" type="text/javascript"></script>
<script src="../../../../../jquery/jszip/dist/jszip.min.js" type="text/javascript"></script>
<script src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js" type="text/javascript"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script src="../../../../../jquery/jquery-3.3.1.js" type="text/javascript"></script>
<script src="../../../../../jquery/jquery-migrate-3.0.1.js" type="text/javascript"></script>
<script src="../../../../../jquery/jquery-ui.js" type="text/javascript"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CameraService";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input disabled="disabled" id="search" type="text" value="search">
<input disabled="disabled" id="reset" type="reset" value="reset">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">me.kverna.roger.server.service</a></div>
<h2 class="title" title="Class CameraService">Class CameraService</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>me.kverna.roger.server.service.CameraService</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>@Service
public class <span class="typeNameLabel">CameraService</span>
extends java.lang.Object</pre>
<div class="block">Service layer for handling of Camera instances.

 This service has general repository functions, and handles executing the
 background video stream tasks for each Camera instance.

 Background tasks are executed automatically when cameras are created, and
 can be connected to using `addConnection`. Stopping of a service is handled
 upon deletion of a Camera using `removeCamera`.

 New cameras added will both start a task for receiving video from the camera,
 and a detection task for detecting circles from the camera feed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../repository/CameraRepository.html" title="interface in me.kverna.roger.server.repository">CameraRepository</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cameraRepository">cameraRepository</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>,&#8203;<a href="../video/VideoFeedTask.html" title="class in me.kverna.roger.server.video">VideoFeedTask</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#captureTasks">captureTasks</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="NotifyService.html" title="class in me.kverna.roger.server.service">NotifyService</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#notifyService">notifyService</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.springframework.core.task.TaskExecutor</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#serviceExecutor">serviceExecutor</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(me.kverna.roger.server.repository.CameraRepository,me.kverna.roger.server.service.NotifyService,org.springframework.core.task.TaskExecutor)">CameraService</a></span>&#8203;(<a href="../repository/CameraRepository.html" title="interface in me.kverna.roger.server.repository">CameraRepository</a>&nbsp;cameraRepository,
             <a href="NotifyService.html" title="class in me.kverna.roger.server.service">NotifyService</a>&nbsp;notifyService,
             org.springframework.core.task.TaskExecutor&nbsp;serviceExecutor)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span class="activeTableTab" id="t0"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span class="tableTab" id="t2"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span class="tableTab" id="t4"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addCamera(me.kverna.roger.server.data.Camera)">addCamera</a></span>&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera)</code></th>
<td class="colLast">
<div class="block">Create a new Camera entity, and start a background task for it.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addConnection(me.kverna.roger.server.data.Camera,me.kverna.roger.server.video.VideoFeedListener)">addConnection</a></span>&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera,
             <a href="../video/VideoFeedListener.html" title="interface in me.kverna.roger.server.video">VideoFeedListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Assign a listener to the background task for the given camera.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>java.util.List&lt;<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findAllCameras()">findAllCameras</a></span>()</code></th>
<td class="colLast">
<div class="block">Return a list of all cameras in the repository.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findCamera(int)">findCamera</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Find a Camera using the given id.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeCamera(int)">removeCamera</a></span>&#8203;(int&nbsp;id)</code></th>
<td class="colLast">
<div class="block">Remove a Camera with the given id.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startCaptureTask(me.kverna.roger.server.data.Camera)">startCaptureTask</a></span>&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera)</code></th>
<td class="colLast">
<div class="block">Executes a background video feed task for the given camera and
 assigns it for handling listeners.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#startDetectionTask(me.kverna.roger.server.data.Camera)">startDetectionTask</a></span>&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera)</code></th>
<td class="colLast">
<div class="block">Executes a background detection task for the given camera.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="cameraRepository">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cameraRepository</h4>
<pre>private&nbsp;<a href="../repository/CameraRepository.html" title="interface in me.kverna.roger.server.repository">CameraRepository</a> cameraRepository</pre>
</li>
</ul>
<a id="captureTasks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>captureTasks</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>,&#8203;<a href="../video/VideoFeedTask.html" title="class in me.kverna.roger.server.video">VideoFeedTask</a>&gt; captureTasks</pre>
</li>
</ul>
<a id="serviceExecutor">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serviceExecutor</h4>
<pre>private&nbsp;org.springframework.core.task.TaskExecutor serviceExecutor</pre>
</li>
</ul>
<a id="notifyService">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notifyService</h4>
<pre>private&nbsp;<a href="NotifyService.html" title="class in me.kverna.roger.server.service">NotifyService</a> notifyService</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(me.kverna.roger.server.repository.CameraRepository,me.kverna.roger.server.service.NotifyService,org.springframework.core.task.TaskExecutor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CameraService</h4>
<pre>@Autowired
public&nbsp;CameraService&#8203;(<a href="../repository/CameraRepository.html" title="interface in me.kverna.roger.server.repository">CameraRepository</a>&nbsp;cameraRepository,
                     <a href="NotifyService.html" title="class in me.kverna.roger.server.service">NotifyService</a>&nbsp;notifyService,
                     @Qualifier("serviceExecutor")
                     org.springframework.core.task.TaskExecutor&nbsp;serviceExecutor)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="startCaptureTask(me.kverna.roger.server.data.Camera)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startCaptureTask</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;startCaptureTask&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera)
                      throws java.net.MalformedURLException</pre>
<div class="block">Executes a background video feed task for the given camera and
 assigns it for handling listeners.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>camera</code> - the camera to start the new task with</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.MalformedURLException</code></dd>
</dl>
</li>
</ul>
<a id="addConnection(me.kverna.roger.server.data.Camera,me.kverna.roger.server.video.VideoFeedListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addConnection</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addConnection&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera,
                          <a href="../video/VideoFeedListener.html" title="interface in me.kverna.roger.server.video">VideoFeedListener</a>&nbsp;listener)</pre>
<div class="block">Assign a listener to the background task for the given camera.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>camera</code> - the camera that has the desired task</dd>
<dd><code>listener</code> - the new listener to assign to the camera's task</dd>
</dl>
</li>
</ul>
<a id="startDetectionTask(me.kverna.roger.server.data.Camera)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startDetectionTask</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;startDetectionTask&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera)</pre>
<div class="block">Executes a background detection task for the given camera.
 This requires that a capture task has already been created.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>camera</code> - the camera to start the new task with</dd>
</dl>
</li>
</ul>
<a id="addCamera(me.kverna.roger.server.data.Camera)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCamera</h4>
<pre class="methodSignature">public&nbsp;<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;addCamera&#8203;(<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;camera)</pre>
<div class="block">Create a new Camera entity, and start a background task for it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>camera</code> - the new Camera instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new Camera instance after saving to the repository</dd>
</dl>
</li>
</ul>
<a id="findCamera(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findCamera</h4>
<pre class="methodSignature">public&nbsp;<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&nbsp;findCamera&#8203;(int&nbsp;id)</pre>
<div class="block">Find a Camera using the given id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id associated with the Camera</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the found Camera</dd>
</dl>
</li>
</ul>
<a id="removeCamera(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCamera</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeCamera&#8203;(int&nbsp;id)</pre>
<div class="block">Remove a Camera with the given id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the Camera to remove</dd>
</dl>
</li>
</ul>
<a id="findAllCameras()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findAllCameras</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;<a href="../data/Camera.html" title="class in me.kverna.roger.server.data">Camera</a>&gt;&nbsp;findAllCameras()</pre>
<div class="block">Return a list of all cameras in the repository.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of all cameras in the repository</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
